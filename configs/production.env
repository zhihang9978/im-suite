# 志航密信生产环境配置

# 应用配置
APP_NAME=志航密信
APP_VERSION=1.0.0
APP_ENV=production
APP_DEBUG=false

# 服务器配置
HOST=0.0.0.0
PORT=8080

# 数据库配置
DB_HOST=mysql
DB_PORT=3306
DB_NAME=zhihang_messenger
DB_USER=zhihang_messenger
DB_PASSWORD=zhihang_messenger_pass
DB_CHARSET=utf8mb4
DB_MAX_IDLE_CONNS=10
DB_MAX_OPEN_CONNS=100
DB_CONN_MAX_LIFETIME=3600

# Redis 配置
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10

# JWT 配置
JWT_SECRET=zhihang_messenger_secret_key_2024_prod
JWT_EXPIRE_HOURS=24
JWT_REFRESH_EXPIRE_HOURS=168

# MinIO 配置
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=zhihang_messenger
MINIO_SECRET_KEY=zhihang_messenger_pass
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=zhihang-messenger

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=logs/app.log

# 文件上传配置
UPLOAD_MAX_SIZE=52428800
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,video/mp4,audio/mpeg,application/pdf

# WebSocket 配置
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS=10000

# 邮件配置
SMTP_HOST=smtp.qq.com
SMTP_PORT=587
SMTP_USER=your-email@qq.com
SMTP_PASSWORD=your-email-password
SMTP_FROM=志航密信 <your-email@qq.com>

# 短信配置
SMS_PROVIDER=aliyun
SMS_ACCESS_KEY=your-access-key
SMS_ACCESS_SECRET=your-access-secret
SMS_SIGN_NAME=志航密信

# 推送配置
PUSH_ENABLED=true
PUSH_ANDROID_KEY=your-android-push-key
PUSH_IOS_KEY=your-ios-push-key

# 安全配置
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://admin.your-domain.com
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=60

# 监控配置
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true

# 缓存配置
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_PREFIX=zhihang_messenger:

# 任务队列配置
QUEUE_ENABLED=true
QUEUE_DRIVER=redis
QUEUE_CONNECTION=default

# SSL 配置
SSL_ENABLED=true
SSL_CERT_PATH=/etc/nginx/ssl/zhihang-messenger.crt
SSL_KEY_PATH=/etc/nginx/ssl/zhihang-messenger.key

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# 监控告警配置
ALERT_ENABLED=true
ALERT_WEBHOOK_URL=https://your-webhook-url.com
ALERT_EMAIL=admin@your-domain.com

# 开发工具配置
SWAGGER_ENABLED=false
SWAGGER_PATH=/docs
PPROF_ENABLED=false
PPROF_PORT=6060


